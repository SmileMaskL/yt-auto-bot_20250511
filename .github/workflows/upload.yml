# GitHub Actions ÏûêÎèôÌôî ÏÑ§Ï†ï
name: YouTube Auto Upload

on:
  workflow_dispatch:
  schedule:
    - cron: '0 6 * * *'  # Îß§Ïùº Ïò§Ï†Ñ 6Ïãú Ïã§Ìñâ (UTC Í∏∞Ï§Ä)

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: üì• Repository Checkout
        uses: actions/checkout@v4

      - name: üêç Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.10'

      - name: üì¶ Install Python dependencies
        run: |
          pip install --upgrade pip
          pip install -r requirements.txt

      - name: üîê Load API keys into environment
        run: |
          echo "OPENAI_API_KEYS=${{ secrets.OPENAI_API_KEYS }}" >> $GITHUB_ENV
          echo "ELEVENLABS_API_KEY=${{ secrets.ELEVENLABS_API_KEY }}" >> $GITHUB_ENV
          echo "GOOGLE_CLIENT_SECRET_JSON=${{ secrets.GOOGLE_CLIENT_SECRET_JSON }}" >> $GITHUB_ENV
          echo "SLACK_WEBHOOK_URL=${{ secrets.SLACK_WEBHOOK_URL }}" >> $GITHUB_ENV

      - name: ‚ñ∂Ô∏è Run YouTube Automation Script
        run: python scripts/main.py
